"use strict";(self.webpackChunkcodo_a_codo=self.webpackChunkcodo_a_codo||[]).push([[32],{32:(N,g,u)=>{u.r(g),u.d(g,{BuyTicketModule:()=>J});var a=u(6895),p=u(4736),e=u(8256),m=u(6082),_=u(4689),T=u(1857),d=u(433);function f(t,l){if(1&t&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&t){const n=l.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.hij(" ",n.description,"")}}function h(t,l){1&t&&(e.TgZ(0,"div",34),e._uU(1," El campo es requerido. "),e.qZA())}function Z(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,h,2,0,"div",33),e.qZA()),2&t){e.oxw();const n=e.MAs(17);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function v(t,l){1&t&&(e.TgZ(0,"div",34),e._uU(1," El campo es requerido. "),e.qZA())}function M(t,l){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,v,2,0,"div",33),e.qZA()),2&t){e.oxw();const n=e.MAs(23);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function C(t,l){1&t&&(e.TgZ(0,"div",34),e._uU(1," El campo es requerido. "),e.qZA())}function y(t,l){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,C,2,0,"div",33),e.qZA()),2&t){e.oxw();const n=e.MAs(29);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function b(t,l){1&t&&(e.TgZ(0,"div",34),e._uU(1," El campo es requerido. "),e.qZA())}function A(t,l){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,b,2,0,"div",33),e.qZA()),2&t){e.oxw();const n=e.MAs(35);e.xp6(1),e.Q6J("ngIf",null==n.errors?null:n.errors.required)}}function q(t,l){if(1&t&&(e.TgZ(0,"option",32),e._uU(1),e.qZA()),2&t){const n=l.$implicit;e.Q6J("ngValue",n),e.xp6(1),e.hij(" ",n.discountName," ")}}const k=[{path:"",title:"Comprar entrada",component:(()=>{class t{constructor(n,o,r,i,c){this.productService=n,this.discountService=o,this.ticketService=r,this.router=i,this.activatedRoute=c,this.client={lastName:"",firstName:"",email:"",phone:""},this.quantity=1,this.products=n.getAll(),this.productSelected=this.products[0],this.discounts=o.getAll(),this.discountSelected=this.discounts[0]}subtotal(){return this.productSelected.price*this.quantity}total(){let n=this.subtotal();return n-n*this.discountSelected.value}buy(){let o=this.ticketService.purchase({id:0,client:this.client,items:[{id:1,product:this.productSelected,quantity:this.quantity}],discount:this.discountSelected});this.router.navigate(["purchase/order"],{queryParams:{id:o}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(m.M),e.Y36(_.r),e.Y36(T.w),e.Y36(p.F0),e.Y36(p.gz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-buy-ticket"]],decls:67,vars:26,consts:[[1,"base"],[3,"ngSubmit"],[1,"inputGroup"],["for","product"],["name","product",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["for","price"],[1,"debit"],["for","lastName"],["type","text","name","lastName","placeholder","Apellido","required","",3,"ngModel","ngModelChange"],["lastName","ngModel"],[4,"ngIf"],["for","firstName"],["type","text","name","firstName","placeholder","Nombre","required","",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","validator",4,"ngIf"],["for","email"],["type","email","name","email","placeholder","Correo electronico","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["for","phone"],["type","tel","name","phone","placeholder","Telefono","required","",3,"ngModel","ngModelChange"],["phone","ngModel"],["for","quantity"],["type","number","name","quantity","min","1","max","10",3,"ngModel","ngModelChange"],["for","discount"],["name","discount",3,"ngModel","ngModelChange"],[1,"order"],["for","subtotal"],[1,"credit"],[1,"inputGroup","bold"],["for","total"],["type","submit",3,"disabled"],[3,"ngValue"],["class","error",4,"ngIf"],[1,"error"],[1,"validator"]],template:function(n,o){if(1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return o.buy()}),e.TgZ(2,"div",2)(3,"label",3),e._uU(4,"Producto"),e.qZA(),e.TgZ(5,"select",4),e.NdJ("ngModelChange",function(i){return o.productSelected=i}),e.YNc(6,f,2,2,"option",5),e.qZA()(),e.TgZ(7,"div",2)(8,"label",6),e._uU(9,"Precio:"),e.qZA(),e.TgZ(10,"label",7),e._uU(11),e.ALo(12,"currency"),e.qZA()(),e.TgZ(13,"div",2)(14,"label",8),e._uU(15,"Apellido"),e.qZA(),e.TgZ(16,"input",9,10),e.NdJ("ngModelChange",function(i){return o.client.lastName=i}),e.qZA()(),e.YNc(18,Z,2,1,"div",11),e.TgZ(19,"div",2)(20,"label",12),e._uU(21,"Nombre"),e.qZA(),e.TgZ(22,"input",13,14),e.NdJ("ngModelChange",function(i){return o.client.firstName=i}),e.qZA()(),e.YNc(24,M,2,1,"div",15),e.TgZ(25,"div",2)(26,"label",16),e._uU(27,"Correo electronico"),e.qZA(),e.TgZ(28,"input",17,18),e.NdJ("ngModelChange",function(i){return o.client.email=i}),e.qZA()(),e.YNc(30,y,2,1,"div",15),e.TgZ(31,"div",2)(32,"label",19),e._uU(33,"Telefono"),e.qZA(),e.TgZ(34,"input",20,21),e.NdJ("ngModelChange",function(i){return o.client.phone=i}),e.qZA()(),e.YNc(36,A,2,1,"div",15),e.TgZ(37,"div",2)(38,"label",22),e._uU(39,"Cantidad"),e.qZA(),e.TgZ(40,"input",23),e.NdJ("ngModelChange",function(i){return o.quantity=i}),e.qZA()(),e.TgZ(41,"div",2)(42,"label",24),e._uU(43,"Descuento"),e.qZA(),e.TgZ(44,"select",25),e.NdJ("ngModelChange",function(i){return o.discountSelected=i}),e.YNc(45,q,2,2,"option",5),e.qZA()(),e.TgZ(46,"div",26)(47,"div",2)(48,"label",27),e._uU(49,"Subtotal:"),e.qZA(),e.TgZ(50,"label",7),e._uU(51),e.ALo(52,"currency"),e.qZA()(),e.TgZ(53,"div",2)(54,"label",24),e._uU(55,"Descuento:"),e.qZA(),e.TgZ(56,"label",28),e._uU(57),e.ALo(58,"percent"),e.qZA()(),e.TgZ(59,"div",29)(60,"label",30),e._uU(61,"Total:"),e.qZA(),e.TgZ(62,"label",7),e._uU(63),e.ALo(64,"currency"),e.qZA()()(),e.TgZ(65,"button",31),e._uU(66,"Comprar"),e.qZA()()()),2&n){const r=e.MAs(17),i=e.MAs(23),c=e.MAs(29),s=e.MAs(35);e.xp6(5),e.Q6J("ngModel",o.productSelected),e.xp6(1),e.Q6J("ngForOf",o.products),e.xp6(5),e.hij(" ",e.lcZ(12,18,o.productSelected.price),""),e.xp6(5),e.Q6J("ngModel",o.client.lastName),e.xp6(2),e.Q6J("ngIf",r.invalid&&(r.dirty||r.touched)),e.xp6(4),e.Q6J("ngModel",o.client.firstName),e.xp6(2),e.Q6J("ngIf",i.invalid&&(i.dirty||i.touched)),e.xp6(4),e.Q6J("ngModel",o.client.email),e.xp6(2),e.Q6J("ngIf",c.invalid&&(c.dirty||c.touched)),e.xp6(4),e.Q6J("ngModel",o.client.phone),e.xp6(2),e.Q6J("ngIf",s.invalid&&(s.dirty||s.touched)),e.xp6(4),e.Q6J("ngModel",o.quantity),e.xp6(4),e.Q6J("ngModel",o.discountSelected),e.xp6(1),e.Q6J("ngForOf",o.discounts),e.xp6(6),e.Oqu(e.lcZ(52,20,o.subtotal())),e.xp6(6),e.Oqu(e.lcZ(58,22,o.discountSelected.value)),e.xp6(6),e.Oqu(e.lcZ(64,24,o.total())),e.xp6(2),e.Q6J("disabled",r.invalid||i.invalid||c.invalid||s.invalid||c.invalid)}},dependencies:[a.sg,a.O5,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.JL,d.Q7,d.qQ,d.Fd,d.On,d.F,a.Zx,a.H9],styles:[".base[_ngcontent-%COMP%]{background:#fff}.inputGroup[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:5px;margin-bottom:5px}select[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}input[_ngcontent-%COMP%]{border:1px solid #aaa}button[_ngcontent-%COMP%]{padding:5px 20px;background:rgb(245,188,67);border-radius:5px}button[_ngcontent-%COMP%]:disabled{background:#aaa;color:#555}button[_ngcontent-%COMP%]:hover:not(disabled){filter:none}.bold[_ngcontent-%COMP%]{font-weight:700}.credit[_ngcontent-%COMP%]{color:#006400}.debit[_ngcontent-%COMP%]{color:#8b0000}.order[_ngcontent-%COMP%]{padding-top:20px;border-top:1px dashed #aaa;margin:20px 0}.error[_ngcontent-%COMP%]{color:#8b0000;font-size:.8rem;margin-bottom:10px}"]}),t})()}];let B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(k),p.Bz]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,B]}),t})()}}]);